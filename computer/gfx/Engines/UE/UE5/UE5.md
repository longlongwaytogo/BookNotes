# UE5 开发技术路线图及技术解析

[UE5开发路线图及技术解析 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/445634734)

相比UE4，UE5做了大量改进，主要是**Nanite和Lumen等渲染技术**，构建整个大世界的工具以及底层对渲染大量对象生成一些Proxy Mesh技术。



## UE5核心功能

- 次世代的渲染技术： Nantie+Lumen
- 构建答案世界的工具集
- 支撑大世界/大量对象数/大资产/大资产的性能
- 编辑器和用户体验的改进
- 次世代的动画技术
- Chaos/网络同步的物理系统
- 极大改善的主机和移动平台项目迭代效率和体验



### 1. Nanite功能(虚拟微多边形几何体技术)

Nanite是全新的Mesh表示形式，是一种虚拟微表面几何体，解放了之前美术同学制作模型时对大量细节的限制，现在可以直接使用真正用于影视级别的资产，几百万甚至上亿面的模型直接可以导入到引擎中，非常顺畅的放很多的实例去高效的渲染

![](https://pic2.zhimg.com/80/v2-a87960e082e0416cd45b2f9375d453fd_720w.webp)

整个Nanite管线基于GPU driven的管线产生，主要流程我会分以下几个部分来讲。

![](https://pic2.zhimg.com/80/v2-a1441eb630ab71515c32d9a50e01c021_720w.webp)

- Cluster生成
- 裁剪和LOD选择
- 光栅化
- 材质
- 串流
- 压缩
- 未来

为了让大量对象在场景上高效剔除，我们需要把所有场景数据都送到GPU上。其实从4.22开始，引擎就慢慢在不影响上层使用的情况下，在底层做出改进了，使渲染器成为retained mode，维护了完整的GPU scene，Nanite在这个基础上做了大量新的工作。



### **Nanite中cluster的生成**



接下来我们简单讲讲Nanite的工作机制。首先在模型导入时，我们会做一些预处理，比如按128面的cluster做切分处理。有了这些cluster以后，我们就可以在距离拉远拉近时，做到对每个cluster group同时切换，让肉眼看不到切换lod导致的误差没有crack，同时还能对这些不同层级、细节的cluster做streaming，这其实就是Nanite最关键的部分。

![](https://pic2.zhimg.com/80/v2-512d24d3596765adb2acefabe96efb81_720w.webp)

### **Nanite裁剪流程**

![](https://pic3.zhimg.com/80/v2-164990fee98200aa5dab082768448ed2_720w.webp)



## **2. Lumen**(全动态实时光照解决方案)

UE5的另一大功能Lumen，是全新的全动态GI和反射系统，**支持在大型高细节场景中无限次反弹的漫反射GI，以及间接的高光反射，跨度可以从几公里到几厘米，一些CVar的设置甚至可以到5厘米的精度。**



## 3. **其他功能**

#### 3.1 大世界构建

![](https://pic1.zhimg.com/80/v2-a83033d8e6174abd9242f7d04347f258_720w.webp)